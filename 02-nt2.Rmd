# Princípios Básicos de Probabilidades {#nt2}

En este Núcleo Temático se definen algunos conceptos que servirán de soporte para comprender el concepto de probabilidad. Para ello, en la primera sección, se hace una *introducción a los conjuntos*, lo cual es necesario para entender la *definición clásica de la probabilidad*. Luego, en la segunda sección, se definen algunas *operaciones con conjuntos*. Por último, la tercera sección, constituye una *introducción a la probabilidad*.

El siguiente bloque de código permite instalar y cargar los paquetes de `r colorize("R", "blue")` que se usaran en esta sección.

```{r cargar-paquetes-nt2, class.source = "watch-out"}
packages <- c(
  "ggplot2", "ggstatsplot", "ggVennDiagram", "eulerr",
  "venneuler", "VennDiagram"
)
package.check <- lapply(packages, FUN = function(x) {
  if (!require(x, character.only = TRUE)) {
    install.packages(x, dependencies = TRUE)
    library(x, character.only = TRUE)
  }
})
```

## Introducción a los Conjuntos {#nt21}

En esta sección se definen algunos conceptos relacionados a la teoría de conjuntos. Estos conceptos son necesarios para entender el enfoque clásico de la probabilidad, el cual se describe en la sección \@ref(nt2341).


### Conjunto {#nt211}

::: {#conjunto .definition name="Conjunto"}
Un conjunto es una colección bien definida de objetos, los cuales se denominan *elementos* o *miembros* del conjunto. Generalmente se utilizan letras mayúsculas, como $A$, $B$, $X$, $Y$, $\dotsc$ para designar los conjuntos, y letras minúsculas, como $a$, $b$, $x$, $y$, $\dotsc$ para designar los elementos de los conjuntos. Las palabras *clase*, *colección* y *familia* son sinónimos de conjunto.

Para decir que un elemento $a$ pertenece a un conjunto $A$ se escribe $a \in A$. (Donde el símbolo $\in$ significa "es un elemento de"). También se escribe $a,b \in A$ cuando $a$ y $b$ pertenecen a A.
:::

#### Formulación de Conjuntos por Extensión {#nt2111}

::: {#formconjext .definition name="Formulación de Conjuntos por Extensión"}
Consiste en formular el conjunto listando todos los elementos del conjunto. Por ejemplo,

$$A=\left\{1,2,3 ,5,7,9\right\}$$

significa que $A$ es el conjunto que comprende los números $1, 2, 3 ,5, 7 \:y\: 9$. Observe que los elementos del conjunto están separados por comas y encerrados en corchetes$\{\:\:\}$.
:::

#### Formulación de Conjuntos por Comprensión {#nt2112}

::: {#formconjcomp .definition name="Formulación de Conjuntos por Comprensión"}
Consiste en formular el conjunto a través de propiedades que caracterizan los elementos en el conjunto, es decir, las propiedades que tienen los miembros del conjunto y que no tienen los no miembros. Por ejemplo:

$$A=\left\{x:x \:es\: \:un\: número\: impar, \,x<10\right\}.$$

En muchos casos es inviable formular un conjunto por extensión, en tal caso se hace necesario formularlo por comprensión.
:::

#### Tamaño de un Conjunto {#nt2113}

::: {#tamconj .definition name="Tamaño de un Conjunto"}
El tamaño de un conjunto $S$ (también, *cardinalidad* o *cardinal del conjunto*) es el número de elementos del conjunto y se denota por $n(S)$. El tamaño del conjunto vacío es cero, es decir, $n(\emptyset)=0$.
:::

#### Conjunto Finito {#nt2114}

::: {#conjfinito .definition name="Conjunto Finito"}
Un conjunto $S$ es finito si $S$ es vacío o si el tamaño de $S$ es exactamente un número $m$ entero positivo $\left(n(S) = m \in \mathbb{ N } \right)$; de otra manera es infinito.
:::

#### Conjunto Contable {#nt2115}

::: {#conjcontable .definition name="Conjunto Contable"}

Un conjunto $S$ es contable si $S$ es finito o si los elementos de $S$ pueden ser colocados en forma de sucesión, en cuyo caso se dice que $S$ es infinito contable. Un conjunto es incontable si este no es contable.
:::

Considere los siguientes ejemplos:

a. Sea $A$ el conjunto de las letras del alfabeto y sea $D$ los días de la semana, es decir, $A=\left\{a,b,\dotsc,y,z\right\}$ y $D=\left\{lunes,martes,\dotsc,domingo \right\}$. Entonces $A$ y $D$ son conjuntos finitos. Específicamente el tamaño de $A$ es 27 $\left(n(A)=27 \right)$ y el tamaño de $D$ es 7 $\left(n(D)=7\right)$.

b. Sea $R=\left\{x:x \textit{ es un río de la tierra} \right\}$. Aunque puede ser difícil contar el número de ríos sobre la tierra, $R$ continúa siendo un conjunto finito.

c. Sea $E$ el conjunto de los enteros positivos pares y sea $I$ el intervalo unidad; es decir, $E=\left\{2,4,6,\dotsc\right\}$ e $I=[0,1]=\left\{x:0≤x≤1\right\}$. Entonces, ambos conjuntos son infinitos. De manera particular $E$ es infinito contable e $I$ es infinito incontable.


###	Subconjunto {#nt212}

::: {#subconjunto .definition name="Subconjunto"}

Sean $A$, $B$ dos conjuntos; se dice que $A$ es un _subconjunto_ de $B$, o se dice también que $A$ está contenido en $B$, si todos los elemento del conjunto $A$ también pertenecen al conjunto $B$, y se escribe como $A \subseteq B$ o $B \supseteq A$.

La afirmación $A \subseteq B$ no excluye la posibilidad de que $A=B$. Sin embargo, si $A \subseteq B$ y $A\neq B$, entonces se dice que $A$ es un _subconjunto propio_ de $B$ (escrito algunas veces $A \subset B$).
:::

###	Conjuntos Iguales {#nt213}

::: {#conjiguales .definition name="Conjunto Iguales"}

Dos conjuntos $A$, $B$ son iguales si ambos contienen exactamente los mismos elementos o, en forma equivalente, si cada uno está contenido en el otro. Es decir,
$A = B$ si y sólo si $A \subseteq B$ y $B \supseteq A$.
Esto implica que si cualquier elemento $a \in A$, entonces $a \in B$.

Las negaciones de $a \in A, A \subseteq B, B \supseteq A, \:y\: A=B$ se escriben $a \notin A$, $A \nsubseteq B, B \nsupseteq A, \:y\: A \neq B$.
:::

::: {#conjiguales .theorem}

Sean $A$, $B$, $C$ cualquier conjunto. Entonces:

a.	$A \subseteq A$
a.	Si $A \subseteq B$ y $B \supseteq A$, entonces $A=B$
a.	Si $A \subseteq B$ y $B \subseteq C$, entonces $A \subseteq C$.
:::

###	Conjuntos Universal {#nt214}

::: {#conjuniversal .definition name="Conjunto Universal"}

Es cualquier conjunto $\mathbb{U}$ que contiene a todos los conjuntos bajo investigación en cualquier aplicación de una teoría de conjuntos. Por ejemplo en geometría de planos, el conjunto universal comprende todos los puntos en el plano; en los estudios de población humana, el conjunto universal consiste de todas las personas del mundo.
:::

###	Conjuntos Vacio o Conjunto Nulo {#nt215}

::: {#conjvacio .definition name="Conjunto Vacio"}

Un conjunto vacío es aquel que no tiene elementos y se representa por $\emptyset$.

Por ejemplo, el conjunto $S=\left\{x:x \textit{ es un entero positivo},x^2=3 \right\}$ es un _conjunto vacío_, puesto que ningún entero positivo tiene la propiedad requerida.
:::

::: {#conjvacio .theorem}

Para cualquier conjunto $A$, se tiene $\emptyset  \subseteq  A \subseteq \mathbb{U}$.
:::

###	Conjuntos Disyuntos o Mutuamente Excluyentes o Ajenos {#nt216}

::: {#conjdisyuntos .definition name="Conjuntos Disyuntos o Mutuamente excluyentes o Ajenos"}

Se dice que dos conjuntos $A$, $B$ son _disyuntos_ si estos no tienen elementos en común. 

Consideremos, por ejemplo, los conjuntos $$A=\left\{1,2\right\};  B=\left\{2,4,6\right\};  C=\left\{4,5,6,7\right\}.$$
Observe que $A$ y $B$ no son disyuntos porque cada uno tiene el elemento 2, y $B$ y $C$ no son disyuntos puesto que cada uno contiene el elemento 4, entre otros. Por otra parte, $A$ y $C$ son disyuntos dado que estos no tienen elementos en común. Se observa que si dos conjuntos son disyuntos, entonces ninguno es subconjunto del otro (a menos que uno sea el conjunto vacio).
:::

###	Conjunto Solapados o Traslapados {#nt217}

::: {#conjdisyuntos .definition name="Conjunto Solapados o Traslapados"}

Se dice que dos conjuntos $A$, $B$ son solapados si estos tienen por lo menos un elemento en común. 

Consideremos, por ejemplo, los conjuntos
$$A=\left\{1,2\right\};  B=\left\{2,4,6\right\};  C=\left\{4,5,6,7\right\}.$$
Observe que $A$ y $B$ son solapados porque cada uno tiene el elemento 2, y B y C son solapados puesto que cada uno contiene el elemento 4, entre otros. 
:::

###	Diagrama de Venn {#nt218}

::: {#diagramavenn .definition name="Diagrama de Venn"}

Un _diagrama de Venn_ es una representación en dibujo de conjuntos, donde estos están representados por áreas encerradas en el plano. El conjunto universal $\mathbb{U}$ está representado por los puntos en un rectángulo y los demás conjuntos están representados por círculos, elipses o óvalos, generalmente; que se encuentran dentro de los rectángulos.

La figura \@ref(fig:venn) ilustra por medio de diagramas de Venn  diferentes relaciones entre los conjuntos $A$ y $B$.

```{r venn, fig.cap="Diagramas de Venn", class.source = "watch-out", class.output = "bg-warning"}
knitr::include_graphics(path = "figuras/diagrama_venn.png")
```
:::

###	Partición {#nt219}

::: {#particion .definition name="Partición"}

Sea $S$ un conjunto no vacío. Una partición de $S$ es una colección $\left\{A_i \right\}$ de subconjuntos no vacíos de $S$ tales que:

a.	Cada $a$ en $S$ pertenece a uno de los subconjuntos $A_i$.
b.  Los conjuntos de $\left\{A_i \right\}$ son mutuamente excluyentes; es decir, si
$$A_i≠A_j, \textit{entonces }  A_i \cap A_j= \emptyset.$$

Los subconjuntos de una partición se denominan _células_.

La figura \@ref(fig:particion) muestra la partición de un conjunto rectangular $S$ de puntos, en cinco células, $A_1$, $A_2$, $A_3$, $A_4$, $A_5$.


```{r particion, fig.cap="Diagrama de Venn de la partición de un conjunto rectangular $S$", class.source = "watch-out", class.output = "bg-warning"}
knitr::include_graphics(path = "figuras/particion.png")
```
:::

## Operaciones Entre Conjuntos {#nt22}

En esta sección se definen las operaciones básicas entre conjuntos, tales como: intersección, unión, complemento, diferencia y diferencia simétrica. Destacando las propiedades de estas operaciones.

### Intersección {#nt221}

::: {#interseccion .definition name="Intersepción"}
La intersección de dos conjuntos $A$ y $B$, representada por $A \cap B$, es el conjunto de todos los elementos que pertenecen tanto al conjunto $A$ como al conjunto $B, es decir,
$$A \cap B=\left\{x:x \in A  \:y\:  x \in B \right\}$$.

La figura \@ref(fig:interseccion) muestra diagramas de Venn que ilustran la intersección de los conjunto $A$ y $B$.


```{r interseccion, fig.cap="Diagrama de Venn para la intersección", class.source = "watch-out", class.output = "bg-warning"}
knitr::include_graphics(path = "figuras/interseccion.png")
```
:::

#### Propiedades de la Intersección {#nt2211}

a. $A \cap \emptyset=∅$.

a. $A \cap \mathbb{U}=A$.

a. $A \cap A=A$. (Idempotencia)

a. $A \cap B=B \cap A$. (Conmutativa)

a. $(A \cap B) \cap C=A \cap (B \cap C)$. (Asociativa)

a. $(A \cap B) \subseteq A$.

a. $(A \cap B)\subseteq B$.


::: {.example #ejemplo1-interseccion name="Intersección"}

Sea $A=\left\{ a, b, c, d, e, f , g, h \right\}$ y $B=\left\{ f, g, h, i, j, k, l \right\}$. Determine $A \cap B$. 

De acuerdo con la definición \@ref(def:interseccion), la intersección de los conjuntos $A$ y $B$ es
$$A \cap B = \left\{  f , g, h \right\}.$$

El resultado anterior, se puede obtener con el siguiente script, usando la función `intersect` de la distribución base de `r colorize("R", "blue")`. 

```{r}
A <- letters[1:8]
B <- letters[6:12]
(AyB <- intersect(A, B))
```

El diagrama de Venn para este ejemplo se muestra con la función `ggVennDiagram` del paquete `ggVennDiagram`. El resultado de la ejecución de esta función es la figura \@ref(fig:ejemplo1-interseccion).

```{r ejemplo1-interseccion, fig.cap="Diagrama de Venn para el ejemplo 1 de la intersección", class.source = "watch-out", class.output = "bg-warning"}
# Lista de vectores
x <- list(A , B)
# Diagrama de Venn con borde personalizado
ggVennDiagram(
  x, color = "black", lwd = 0.8, lty = 1,
  category.names = c("A", "B"),
) + 
  scale_fill_gradient(low = "#F4FAFE", high = "#4981BF")
```

:::


::: {.example #ejemplo2-interseccion name="Intersección"}

Dados los conjuntos $A=\left\{ 1, 2, 3, 4, 5 \right\}$, $B=\left\{ 2, 3, 4, 5, 6, 7 \right\}$ y $C=\left\{ 5, 6, 7, 8, 9, 10 \right\}$. Determine $A \cap B \cap C$. 

Extendiendo la definición \@ref(def:interseccion) para tres conjuntos, la intersección de los conjuntos $A$, $B$ y $C$ son los elementos que se repiten en los tres conjuntos, es decir:
$$A \cap B \cap C = \left\{5 \right\}.$$

El resultado anterior, se puede obtener con el siguiente script, usando la función `intersect` de la distribución base de `r colorize("R", "blue")`. 

```{r}
A <- 1:5
B <- 2:7
C <- 5:10
(AyByC <- intersect(intersect(A,B), C))
```

El Diagrama de Venn para este ejemplo se muestra en la figura \@ref(fig:ejemplo2-interseccion).

```{r ejemplo2-interseccion, fig.cap="Diagrama de Venn para el ejemplo 2 de la intersección", class.source = "watch-out", class.output = "bg-warning"}
# Lista de vectores
x <- list(A , B , C)
# Diagrama de Venn con borde personalizado
ggVennDiagram(
  x, color = "black", lwd = 0.8, lty = 1,
  category.names = c("A", "B", "C"),
) + 
  scale_fill_gradient(low = "#F4FAFE", high = "#4981BF")
```

:::

### Unión {#nt222}

::: {#union .definition name="Unión"}

La unión de dos conjuntos $A$ y $B$, representada por $A \cup B$, es el conjunto de todos los elementos que pertenecen al conjunto $A$ o al conjunto $B$ o a ambos, es decir,
$$A∪B=\left\{x:x \in A  \textit{ o }  x \in B\right\}.$$

La figura \@ref(fig:union) muestra diagramas de Venn que ilustran la intersección de los conjunto $A$ y $B$.

```{r union, fig.cap="Diagrama de Venn para la Unión", class.source = "watch-out", class.output = "bg-warning"}
knitr::include_graphics(path = "figuras/union.png")
```
:::

#### Propiedades de la Unión {#nt2221}

a. $A \cup ∅=A$.

a. $A \cup \mathbb{U}=\mathbb{U}$.

a. $A \cup A=A$. (Idempotencia)

a. $A \cup B=B \cup A$. (Conmutativa)

a. $(A \cup B) \cup C=A \cup (B \cup C)$.  (Asociativa)

a. $A \subseteq (A \cup B)$.

a. $B\subseteq(A \cup B)$.

a. $A \cap (B \cup C)=(A \cap B) \cup (A \cap C)$. (Distributiva de la intersección)

a. $A \cup (B \cap C)=(A \cup B) \cap (A \cup C)$. (Distributiva de la unión)

::: {.example #ejemp1-union name="Unión"}

Dados los conjuntos $A$, $B$, especificados en el ejemplo  \@ref(exm:ejemplo1-interseccion), determine $A \cup B$.

De acuerdo con la definición \@ref(def:union), la unión de los conjuntos $A$ y $B$ es
$$A \cup B = \left\{a , b, c, d, e, f, g, h, i, j, k, l  \right\}.$$

El resultado anterior, se puede obtener con el siguiente script, usando la función `union` de la distribución base de `r colorize("R", "blue")`. 

```{r}
A <- letters[1:8]
B <- letters[6:12]
(AoB <- union(A, B))
```
:::

::: {.example #ejemp2-union name="Unión"}

Dados los conjuntos $A$, $B$, $C$, especificados en el ejemplo  \@ref(exm:ejemplo2-interseccion), determine $A \cup B \cup C$.

De acuerdo con la definición \@ref(def:union), la unión de los conjuntos $A$ y $B$ es
$$A \cup B \cup C= \left\{1,  2,  3,  4,  5,  6,  7,  8,  9, 10  \right\}.$$

El resultado anterior, se puede obtener con el siguiente script, usando la función `union` de la distribución base de `r colorize("R", "blue")`. 

```{r}
A <- 1:5
B <- 2:7
C <- 5:10
(AoBoC <- union(union(A,B), C))
```
:::

### Complemento {#nt223}

::: {#complemento .definition name="Complemeto"}
El _complemento absoluto_ o, simplemente, el _complemento_ de un conjunto $A$, representado por $A^c$, es el conjunto de elementos que pertenecen a $\mathbb{U}$ pero que no pertenecen a $A$, es decir, $$A^c=\left\{x:x∈\mathbb{U},x \notin A\right\}.$$

Algunos textos representan el complemento de $A$ mediante $A'$ o $\bar{A}$.

La figura \@ref(fig:complemento) muestra el diagramas de Venn para $A^c$. La zona coloreada en azul representa el conjunto $A^c$.


```{r complemento, fig.cap="Diagrama de Venn para el complemento", class.source = "watch-out", class.output = "bg-warning"}
knitr::include_graphics(path = "figuras/complemento.png")
```
:::

#### Propiedades del Complemento {#nt2231}

a)	$\left(A^c \right)^c=A$.  (Propiedad Involutiva)

a)	$A \cup A^c = \mathbb{U}$

a)	$A \cap A^c=\emptyset$

a)	$\mathbb{U}^c=\emptyset$

a)	$\emptyset^c=\mathbb{U}$

#### Leyes de Morgan {#nt2232}

a)	$\left(A \cup B \right)^c=A^c \cap B^c$

a)	$\left(A \cap B \right)^c=A^c \cup B^c$

::: {.example #ejemp1-complemento name="Complemento"}

Dado el conjunto universal $\mathbb{U}$, el cual representa el alfabeto inglés (no contiene la letra ñ). Dado el conjunto $$A= \left\{l, w, z, f, s, m, y, v, c, p, q, x, k, b, j  \right\}.$$
Determine el complemento de A $\left(A^c \right)$.

De acuerdo con la definición \@ref(def:complemento), el complemento de $A$ es:
$$A^c = \left\{a, d, e, g, h, i, n, o, r, t, u \right\}.$$

El resultado anterior, se puede obtener con el siguiente script, usando la función `setdiff` de la distribución base de `r colorize("R", "blue")`. 

```{r}
A <- c(
  "l", "w", "z", "f", "s", "m", "y", "v", "c", "p", "q", 
  "x", "k", "b", "j"
  )
U <- letters
(Ac <- setdiff(U, A))
```

Con el siguiente trozo de código  se verifican las propiedades del complemento, dadas en la sección \@ref(nt2231), para el ejemplo en cuestión.

```{r prop-complemento, results='hide'}
Acc <- setdiff(U, Ac)
CV <- as.character(c())
(a <- setequal(Acc, A))
(b <- setequal(union(A, Ac), U))
(c <- setequal(intersect(A, Ac), CV))
(d <- setequal(setdiff(U, U), CV))
```
:::

### Diferencia {#nt224}

::: {#diferencia .definition name="Diferencia"}
El complemento relativo de un conjunto $B$ con respecto a un conjunto $A$, o, simplemente, la diferencia entre $A$ y $B$, representado por $A \setminus B$, es el conjunto de elementos que pertenecen a $A$ pero que no pertenecen a $B$, es decir,
$$A  \setminus  B=\left\{x:x \in A,x \notin B \right\}.$$
El conjunto $A  \setminus  B$ se lee “$A$ menos $B$”. Algunos textos representan $A  \setminus  B$ mediante $A-B$ o $A \sim B$.


La figura \@ref(fig:diferencia) muestra el diagramas de Venn para $A  \setminus  B$.

```{r diferencia, fig.cap="Diagrama de Venn para la diferencia", class.source = "watch-out", class.output = "bg-warning"}
knitr::include_graphics(path = "figuras/diferencia.png")
```
:::

#### Propiedades de la Diferencia {#nt2241}

a)	$A  \setminus  B \neq B  \setminus  A$   (la diferencia no es conmutativa).

a)	$A \setminus B= A \cap B^c \:o\:  B∖A=B \cap A^c$.

a)	$\mathbb{U} \setminus A=A^c$

a)	$(A \setminus B) \cap (B \setminus A )=\emptyset$ 

a)	$A \setminus B \subseteq A$


::: {.example #ejemp1-diferencia name="Diferencia"}

Se tiene el conjunto universal $\mathbb{U}$ representado por el alfabeto inglés. Por otro lado, se tienen los conjunto $A= \left\{d, s, l, y, h, t, b, u, f, n  \right\}$ y $B= \left\{p, y, u, m, k, f, r, j, h, n  \right\}$.
Determine $A \setminus B$ y $B \setminus A$.

De acuerdo con la definición \@ref(def:diferencia),  $A$ menos $B$ es:
$$A \setminus B = \left\{d, s, l, t, b \right\}.$$

Mientras que $B$ menos $A$ es:
$$B \setminus A = \left\{p, m, k, r, j \right\}.$$

El resultado anterior se puede obtener con el siguiente script, usando la función `setdiff` de la distribución base de `r colorize("R", "blue")`. 

```{r}
U <- letters
A <- c("d", "s", "l", "y", "h", "t", "b", "u", "f", "n" )
B <- c("p", "y", "u", "m", "k", "f", "r", "j", "h", "n")
(AmenosB <- setdiff(A, B))
(BmenosA <- setdiff(B, A))
```

Las propiedades de la diferencia descritas en la sección \@ref(nt2211) se pueden verificar en este ejercicio por medio del siguiente script.

```{r}
(a <- setequal(AmenosB, BmenosA))
(b <- setequal(AmenosB, intersect(A, setdiff(U, B))))
(c <- setequal(setdiff(U, A), setdiff(U, A)))
(d <- setequal(intersect(AmenosB,BmenosA), CV))
```
:::

### Diferencia Simétrica {#nt225}

::: {#diferenciasimetrica .definition name="Diferencia simétrica"}
La diferencia simétrica de los conjuntos $A$ y $B$, representado por $A \oplus B$, es el conjunto de elementos que pertenecen $A$ o a $B$, pero no a ambos. Es decir,
$A \oplus B=(A \cup B)  \setminus  (A \cap B)$  o  $A \oplus B=(A  \setminus  B) \cup (B  \setminus  A)$.
Algunos textos representan $A \oplus B$ mediante $A \triangleright B$.

La figura \@ref(fig:diferenciasimetrica) muestra el diagramas de Venn para $A \oplus B$. El Área coloreada representa el conjunto $A \oplus B$.

```{r diferenciasimetrica, fig.cap="Diagrama de Venn para la diferencia simétrica", class.source = "watch-out", class.output = "bg-warning"}
knitr::include_graphics(path = "figuras/diferenciasimetrica.png")
```
:::

#### Propiedades de la Diferencia Simétrica {#nt2251}

a)	$A \oplus B=B \oplus A$ (conmutativa)

b)	$(A \oplus B) \oplus C=A \oplus (B \oplus C)$ (asociativa)

::: {.example #ejemp1-diferenciasimetrica name="Diferencia Simétrica"}

Dados los conjuntos $A$, $B$, especificados en el ejemplo  \@ref(exm:ejemp1-diferencia), determine $A \oplus B$ y $B \oplus A$ y verifique la propiedad conmutativa de la diferencia simétrica.

De acuerdo con la definición \@ref(def:diferenciasimetrica)
$$A \oplus B= \left\{d, s, l, t, b, p, m, k, r, j \right\}$$, mientras que $$B \oplus A= \left\{p, m, k, r, j, d, s, l, t, b \right\}.$$

Note que $A \oplus B = B \oplus A$, dado que ambos conjuntos contienen los mismos elementos. (Revise la definición \@ref(def:conjiguales)).

El resultado anterior, se puede obtener con el siguiente script. 

```{r ej1-diferenciasimetrica,  class.source = "watch-out", class.output = "bg-warning"}
A <- c("d", "s", "l", "y", "h", "t", "b", "u", "f", "n" )
B <- c("p", "y", "u", "m", "k", "f", "r", "j", "h", "n")
AmenosB <- setdiff(A, B)
BmenosA <- setdiff(B, A)
(AomasB <- setdiff(union(A, B), intersect(A, B)))
(BomasA <- setdiff(union(B, A), intersect(B, A)))
setequal(AomasB, BomasA)
# Otra forma de obtener la diferencia simétrica
(AomasB_2 <- union(AmenosB, BmenosA))
(BomasA_2 <- union(BmenosA, AmenosB))
setequal(AomasB_2, BomasA_2)
```
:::

### Principios para Determinar el Tamaño de un Conjunto {#nt226}

a.	Sean $A$ y $B$ conjuntos finitos disyuntos. Entonces $A \cup B$ es finito y
$$n \left(A \cup B \right) = n\left(A \right) + n\left(B \right).$$

b.	Sean $A$ y $B$ conjuntos finitos. Entonces
$$n \left(A \setminus B \right)=n(A) - n(A \cap B).$$

c.	Suponiendo que $A$ es un subconjunto del conjunto Universal $\mathbb{U}$. Entonces
$$n \left(A^c \right)=n \left(\mathbb{U} \right)-n \left(A \right).$$

d.	**Principio de Inclusión-Exclusión**
Sean $A$ y $B$ conjuntos finitos. Entonces $A∩B$ y $A∪B$ son finitos y
$$
n \left( A \cup B \right)=n \left(A \right) + n \left(B \right) - n \left(A \cap B \right).
$$
Es decir, el número de elementos que están en $A$ o en $B$ (o ambos) se encuentran sumando primero $n \left(A \right)$ y $n \left(B \right)$ (inclusión) y luego restando $n \left(A \cap B \right)$ (exclusión), puesto que sus elementos fueron contados dos veces. Fíjese que si los conjuntos $A$ y $B$ son disyuntos, entonces
$$
n \left(A \cup B \right)=n\left(A \right)+n \left(B \right),
$$ 
dado que $A \cap B = \emptyset$.
Este resultado se puede extender para tres conjuntos de la siguiente manera:
Supongamos que $A$, $B$, $C$ son tres conjuntos finitos. Entonces $A \cup B \cup C$ es finito y
$$n \left(A \cup B \cup C \right) = n \left(A \right) + n \left(B \right) + n \left(C \right)-n \left(A \cap B \right) - n \left(A \cap C \right) - n \left(B \cap C \right) + n \left(A \cap B \cap C \right).$$

e.	Sean $A$ y $B$ conjuntos finitos. Entonces $A \oplus B$ es finito y
$$
n \left(A \oplus B \right)=n \left(A \right) + n \left(B \right) - 2n \left(A \cap B \right).
$$
Se excluyen dos veces el número de elementos en $\left(A \cap B \right)$ ya que estos están contenidos en $A$ y en $B$.
El principio anterior se puede extender a tres conjuntos de la siguiente manera:
Supongamos que $A$, $B$, $C$ son tres conjuntos finitos. Entonces $A∪B∪C$ es finito y
$$
n \left( A \oplus B \oplus C \right)   = \left(A \right)+n\left(B \right)+n \left(C \right)-2n \left(A \cap B \right)-2n \left(A \cap C \right)-2n \left(B \cap C \right)+4n \left(A \cap B \cap C \right).
$$

f.	Supongamos que $A$, $B$, $C$ son tres conjuntos finitos. Entonces el número de elementos que están en dos de los tres conjuntos queda determinado por
$$
n \left[ \left(A \cap B \cap C \right) \setminus A \oplus B \oplus C \right] = n \left(A∩B \right) + n \left(A \cap C \right) + n \left(B \cap C \right) - 3n \left(A \cap B \cap C \right).
$$

g.	Supongamos que $A$, $B$, $C$ son tres conjuntos finitos. Entonces el número de elementos que están exactamente en uno de los tres conjuntos queda determinado por
$$
n \left(P \cup M \right)=n\left(P \right)+n \left(M \right),
$$

::: {.example #ej1-cardinal name="Tamaño de un Conjunto"}

Los estudiantes de Licenciatura en Estadísticas deben aprobar las asignaturas Matemáticas II y Probabilidades. Se les aplicó una encuesta a 50 estudiantes que cursan la carrera carrera para ver si ellos habían cursado estas materias y se obtuvo la siguientes respuesta: 25 estudiantes aprobaron Matemáticas II, 20 estudiantes aprobaron Probabilidades y cinco estudiantes aprobaron ambas asignaturas. Encuentre el número de estudiantes que: a) aprobaron Probabilidades solamente, b) no aprobaron Probabilidades, c) aprobaron Matemáticas II o Probabilidades (o ambas), d) no aprobaron ninguna de las dos asignaturas y e) aprobaron una de las asignaturas.

Sea $\mathbb{U}$ el conjunto universal formado por los 50 alumnos encuestados, $M$ el conjunto de los alumnos que aprobaron Matemáticas II y $P$ los alumnos que aprobaron probabilidades. Entonces los datos anteriores se pueden expresar de la siguiente manera: $\mathbb{U} = 50$, $M = 25$, $P = 20$ y $M \cap P = 5$.

a. El número de estudiantes que aprobaron Probabilidades solamente es:

$$
\begin{align*}
n \left(P \setminus M  \right) & = n\left(P \right) - n\left ( P \cap M \right )\\ & = 20 - 5 \\ & = 15. 
\end{align*}
$$

b. El número de estudiantes que no aprobaron Probabilidades es:

$$
\begin{align*}
n \left( P^c \right) & = n\left (\mathbb{U} \right ) - n\left( P \right )\\ & =50 - 20 \\ & = 30. 
\end{align*}
$$

c. El número de estudiantes que aprobaron Matemáticas II o Probabilidades (o ambas) es:

$$
\begin{align*}
n \left(M \cup P \right) & = n\left (M \right ) + n\left( P \right ) - n\left (M \cap P \right )\\ & =25 + 20 - 5  \\ & = 40. 
\end{align*}
$$

d. El número de estudiantes que no aprobaron aprobaron ninguna de las dos asignaturas es:

$$
\begin{align*}
n \left(M^c \cap P^c \right) & = n\left ( \left (M \cup P \right )^c \right )= n\left( \mathbb{U} \right ) - n\left (M \cup P \right )\\ & =50 - 40  \\ & = 10. 
\end{align*}
$$

d. El número de estudiantes que no aprobaron una de las asignaturas:

$$
\begin{align*}
n \left(M \oplus P \right) & = n\left (M \right ) + n\left( P \right ) - 2n\left (M \cap P \right )\\ & =25 + 20 - 2(5)  \\ & = 35. 
\end{align*}
$$

Los resultados anteriores se resumen en el siguiente diagrama de Venn, el cual se muestra en la figura \@ref(fig:ej1-cardinal) . Este diagrama se ha generado con la función `ggVennDiagra` del paquete `ggVennDiagra`.

```{r ej1-cardinal, fig.cap="Diagrama de Venn del Ejemplo \\@ref(exm:ej1-cardinal)", class.source = "watch-out", class.output = "bg-warning"}
ggVennDiagram(
  x = list(P = 1:25, M = 21:40), color = "black", 
  lwd = 0.8, lty = 1, category.names = c("P", "M"),
  ) + 
  scale_fill_gradient(low = "#F4FAFE", high = "#4981BF")
```
:::

::: {.example #ej2-cardinal name="Tamaño de un Conjunto"}
De 140 alumnos de un centro de idiomas se sabe que: 62 estudian inglés, 52 estudian francés, 54 estudian alemán, 18 estudian inglés y francés, 20 estudian francés y alemán, 17 solo estudian alemán y 8 estudian los tres idiomas ¿Cuántos alumnos estudian otros idiomas?

Sea $\mathbb{U}$ el conjunto universal formado por los 140 alumnos, $I$ el conjunto de los alumnos que estudian inglés,
$F$ el conjunto de los alumnos que estudian francés y $A$ el conjuntos de los alumnos que estudian alemán. Entonces, los datos anteriores se pueden reescribir de la siguiente manera: $n \left(I \right) = 62$, $n \left(F \right) = 52$, $n \left(A \right) = 54$, $n \left(I \cap F \right) = 18$,  $n \left(F \cap A \right) = 20$, $n \left(A \setminus \left(I \cup F \right) \right) = 17$ y $\left(I \cap F \cap A \right) = 8$.

Los alumnos que estudian otros idiomas son

$$
n \left( \left(I \cup F \cup A \right)^c \right)= n \left( \mathbb{U} \right) - n \left(I \cup F \cup A  \right).
$$

Note que para hallar  $n \left(I \cup F \cup A  \right)$ es necesario hallar $n \left(I \cap A \right)$. Pero,

$$
\begin{align*}
n \left(A \setminus \left(I \cup F \right) \right) & = n \left(A \right) - n \left(A \cap \left(I \cup F \right)  \right) \\ & = n \left(A \right) - n \left( \left(A \cap I \right)   \cup \left(A \cap F \right) \right) \\ & = n \left(A \right)-\left[ n \left(A \cap I \right) + n \left(A \cap F \right) - n \left( \left(A \cap I  \right) \cap \left(A \cap F  \right) \right) \right] \\ & = n \left(A \right) - n\left(A \cap I \right)- n\left(A \cap F \right) + n\left(I \cap F \cap A \right) \\
17& = 54 - n\left(A \cap I \right) -20 + 8.
\end{align*}
$$

De donde se obtiene que $n\left(I \cap A \right)=25$. Luego,

$$
\begin{align*}
n \left(I \cup F \cup A  \right) & = n\left ( I \right ) + n\left ( F \right ) + n\left ( A \right ) - n\left ( I \cap F \right ) - n\left ( I \cap A \right ) - n\left ( F \cap A \right ) + n\left ( I \cap F \cap A \right )\\ & =62 + 52 + 54 -18 - 25 -30 -20 + 8 \\ & = 113. 
\end{align*}
$$

Por último,

$$
\begin{align*}
n \left( \left(I \cup F \cup A \right)^c \right) & = n \left( \mathbb{U} \right) - n \left(I \cup F \cup A  \right)\\
& = 140 - 113\\
& = 27. 
\end{align*}
$$

Los resultados anteriores se resumen en el siguiente diagrama de Venn, el cual se muestra en la figura \@ref(fig:ej2-cardinal) . Este diagrama se ha generado con la función `draw.triple.venn` del paquete `VennDiagram`.

```{r ej2-cardinal, fig.cap="Diagrama de Venn del Ejemplo \\@ref(exm:ej2-cardinal)", class.source = "watch-out", class.output = "bg-warning"}
ej2_car <- draw.triple.venn(
  area1 = 62, area2 = 52, area3 = 54, n12 = 18, n23 = 20,
  n13 = 25, n123 = 8, 
  category = c("Inglés", "Frances", "Alemán"),
  rotation = 1, reverse = FALSE, euler.d = TRUE, 
  scaled = TRUE, lwd = rep(1, 3), lty = rep("dashed", 3), 
  col = rep("red", 3), fill = c("pink", "green", "orange"),
  alpha = rep(0.5, 3),
  label.col = rep("black", 7), cex = rep(1, 7), 
  fontface = rep("plain", 7), fontfamily = rep("serif", 7),
  cat.pos = c(-40, 40, 180), cat.dist = c(0.05, 0.05, 0.025),
  cat.col = c("pink", "green", "orange"),  
  cat.cex = rep(1, 3), cat.fontface = rep("plain", 3), 
  cat.fontfamily = rep("serif", 3), 
  cat.just = list(c(0.5, 1), c(0.5, 1), c(0.5, 0)),
  cat.default.pos = "outer", cat.prompts = FALSE,
  rotation.degree = 0, rotation.centre = c(0.5, 0.5), 
  ind = TRUE, sep.dist = 0.05, offset = 0, cex.prop = NULL,
  print.mode = c("raw","percent"), sigdigs = 3, 
  direct.area = FALSE, area.vector = 0,
  output = TRUE, filename = NULL
)
grid.draw(ej2_car)
```
:::

## Introducción a la Probabilidad {#nt23}

En esta sección se introducen algunas definiciones que permiten entender el concepto de probabilidad, así como también, se define de manera axiomática la probabilidad de un evento. Por otro lado, se definen algunos enfoques para la asignación y cálculo de probabilidades de eventos. También, se define la probabilidad condicional y el teorema de Bayes para hacer cálculo de probabilidades de eventos dependientes e independientes. 

### Experimento Determinístico {#nt231}

::: {#expdet .definition name="Experimento Determinístico"}
Es un experimento en el cual se puede predecir el resultado.
	
**Ejemplo:** Supóngase que se deja caer desde una altura $h$ un objeto y se anota el tiempo que tarde el objeto en chocar con el suelo.
:::

### Experimento Aleatorio o Experiencia Aleatoria {#nt232}

::: {#expaleat .definition name="Experimento Aleatorio"}
Es un experimento en el cual no se puede predecir el resultado o en otras palabras el resultado está regido por el azar.
	
**Ejemplo:** Supóngase que se lanza un dado y se anota el número que aparece.
:::


### Espacio Muestral {#nt233}

::: {#espmuest .definition name="Espacio Muestral"}
Es el conjunto que consta de todos los resultados posibles de un experimento aleatorio y se denotará con la letra $S$. A cada uno de los resultados posibles de un experimento aleatorio se denomina punto muestral. Algunos textos representa el espacio muestral con $\Omega$ o $E$. 

**Ejemplo:** En el experimento de lanzar un dado y anotar el número que aparece, el espacio muestral es
$$
S=\left\{1,2,3,4,5,6 \right\};
$$
y los puntos muestrales son $1,2,3,4,5,6$.
:::

#### Espacio Muestral Finito {#nt2331}

::: {#espmuestfin .definition name="Espacio Muestral Finito"}
Un espacio muestral $S$ es finito si el número de puntos muestrales de $S$ $\left(n \left(S \right) \right)$ es un número $m$ entero positivo; es decir
$$
n(S)=m, \:donde\: m \in \mathbb{ N }.
$$

**Ejemplo:** En el experimento de lanzar un dado el espacio muestral es finito, ya que $n \left(S \right)=6$.
:::

#### Espacio Muestral Infinito Contable {#nt2332}

::: {#espmuestinfincont .definition name="Espacio Muestral Infinito Contable"}
Un espacio muestral $S$ es infinito contable (o numerable) si se puede establecer una correspondencia uno a uno (biunívoca) entre cada uno de los puntos muestrales de $S$ y los números naturales $\mathbb{ N }$.

**Ejemplo:** Supóngase el experimento que consiste en anotar el número de veces en que se lanza una moneda hasta que salga una cara, entonces el espacio muestral definido sobre este experimento aleatorio es
$$
S=\left\{c,sc,ssc,sssc,ssssc,\dotsc \right\}.
$$

Como se puede notar $S$ es infinito numerable.
:::

#### Evento o Suceso {#nt2333}

::: {#evento .definition name="Evento"}
Es cualquier subconjunto del espacio muestral $S$, cuyos elementos tienen características comunes. Sea $A$ un evento, se dice que el evento $A$ ocurrió si el resultado del experimento es un elemento de $A$.

**Ejemplo:** En el experimento aleatorio de lanzar un dado y anotar el número que sale, los siguientes conjuntos son eventos:
$$
A=\left\{1 \right\}; B=\left\{6 \right\}; C=\left\{1,3,5 \right\}; D=\left\{2,4,6 \right\}.
$$

Como se puede notar $S$ es infinito numerable.
:::

#### Evento Simple o Evento Elemental {#nt2334}

::: {#eventosimple .definition name="Evento Simple"}
Es el evento constituido por un solo punto muestral.

**Ejemplo:** En el experimento aleatorio de lanzar un dado y anotar el número que sale, los siguientes eventos constituyen eventos elementales:
$$
A=\left\{1 \right\}; B=\left\{2 \right\}; C=\left\{3 \right\}; D=\left\{4 \right\};E=\left\{5 \right\}; F=\left\{6 \right\}.
$$
:::

#### Evento Compuesto {#nt2335}

::: {#eventocompuesto .definition name="Evento Compuesto"}
Es el evento constituido por más de un punto muestral.

**Ejemplo:** En el experimento aleatorio de lanzar un dado y anotar el número que sale, los siguientes eventos constituyen eventos compuestos:
$$
A=\left\{1,2 \right\}; B=\left\{1,3,5\right\};C=\left\{1,3,5,6 \right\}; D=\left\{1,2,3,4,5,6 \right\}.
$$
:::

#### Evento Imposible {#nt2336}

::: {#eventoimposible .definition name="Evento Imposible"}
Es el evento que nunca ocurre, es decir, el evento que contiene a ningún resultado posible del espacio muestral. En otras palabras, el conjunto vació $(\emptyset)$.
:::

#### Evento Seguro o Cierto {#nt2337}

::: {#eventoseguro .definition name="Evento Seguro"}
Es el evento que siempre ocurre, es decir, el evento que contiene a todos los resultados posibles del espacio muestral. En otras palabras, el espacio muestral $\left(S \right)$.
:::


#### Eventos Mutuamente Excluyentes o Incompatibles {#nt2338}

::: {#eventosmutexcluy .definition name="Eventos Mutuamente Excluyentes"}
Dos eventos $A$, $B$ son mutuamente excluyentes si la ocurrencia de uno implica la no ocurrencia del otro. En otras palabras, se puede decir que dos sucesos son mutuamente excluyentes si ninguno de los puntos muestrales que conforman uno están contenido en el otro; por lo que
$$
A \cap B=\emptyset.
$$
:::

#### Eventos Compatibles o Solapados {#nt2339}

::: {#eventoscompatibles .definition name="Eventos Compatibles"}
Dos eventos $A$, $B$ se dice que son compatibles, o que no son mutuamente excluyentes o que son solapados, cuando la ocurrencia de uno no impide la ocurrencia del otro. En otros términos, los eventos comparte por lo menos un punto muestral; por lo que
$$
A \cap B \neq \emptyset.
$$
:::

::: {#nota1 .remark }
Como se ha podido notar los eventos son conjunto por lo tanto toda la teoría de conjunto es aplicable a los eventos.
:::

### Probabilidad {#nt234}

::: {#probabilidad .definition name="Probabilidad"}
Es una medida de la incertidumbre sobre la ocurrencia de un evento en particular en un experimento aleatorio.
:::

#### Enfoque Clásico (o de Laplace o a Priori) de la Probabilidad {#nt2341}
::: {#probabilidadclasica .definition name="Enfoque Clásico de la Probabilidad"}
Si un experimento aleatorio puede ocurrir de $N$ maneras diferentes $\left(n \left(S \right) = N \right)$ igualmente probables y mutuamente excluyentes, y un evento $A$ puede ocurrir de $n$ maneras diferentes $\left(n \left(A \right) = n \right)$. Entonces la probabilidad de que ocurra el evento $A$ viene dada por
$$
\begin{equation}
P\left(A \right)=\frac{n\left(A \right)}{n \left(S \right)} =\frac{n}{N}.
(\#eq:probabilidad-clasicaa)
\end{equation}
$$
**Ejemplo:** Supongamos que queremos conocer la probabilidad de que ocurra cara en el lanzamiento sencillo de una moneda. Dado que hay dos maneras igualmente probables como puede caer la moneda, a saber: cara o sello (suponiendo que no se pierda o caiga de canto), y de esas dos maneras puede aparecer cara de una sola forma. Sea $A$ el evento "la meoneda cae cara", entonces la probabilidad de que ocurra cara es
$$
P \left(A \right)=\frac{1}{2}=0,5.
$$
Para llegar a este resultado suponemos que la moneda es balanceada.
:::

#### Enfoque Frecuentista (Empírico o a Posteriori) de la Probabilidad {#nt2342}
::: {#probabilidadfrecuentista .definition name="Enfoque Frecuentista de la Probabilidad"}
Si un experimento se repite $N$ veces bajo las mismas condiciones y en $n$ de los resultados ocurre un evento $A$. Entonces, la probabilidad de que ocurra el evento $A$ tiende a $n/N$, conforme $N$ tiende a infinito. Es decir,
$$
\begin{equation}
P\left(A \right) = \lim_{N \to \infty} \frac{n}{N}.
(\#eq:probabilidad-frecuentista)
\end{equation}
$$

**Ejemplo:** Se realiza un experimento bajo ciertas condiciones, el cual consiste en agregar un antibiótico a una cepa de bacterias. Una hora después de realizar el experimento encontramos que de 7.627 bacterias 4.036 murieron en 1 hora o antes. ¿Cuál es la probabilidad que tiene una bacteria de morir en una hora o antes?

Sea $A$: "la bacteria muere en una hora o antes", entonces la probabilidad de que ocurra $A$, según la ecuación \@ref(eq:probabilidad-frecuentista), es:
$$P\left(A \right) =\frac{4.036}{7.627}=0,5292.$$

:::

#### Enfoque Subjetivo (o personal) de la Probabilidad {#nt2343}
::: {#probabilidadsubjetiva .definition name="Enfoque Subjetivo de la Probabilidad"}
Es el grado de creencia o de convicción que se tiene con respecto a la ocurrencia de un evento.

**Ejemplo:** A una persona se le pregunta sobre la probabilidad de que llueva, la persona mira hacia el cielo y al percatarse que el cielo está nublado dice “la probabilidad de que llueva es de un 80\%".
:::

#### Axiomas de la Probabilidad {#nt2344}
Sea $S$ cualquier espacio muestral y $A$ cualquier evento de éste. Se llamará *función de probabilidad* sobre el espacio muestral $S$ a $P\left(A \right)$ si satisface los siguientes axiomas:

1.	$P\left(A \right) \geq 0$ (toda probabilidad es no negativa).

1.	$P\left(S \right)=1$ (la probabilidad del espacio muestral es uno).

1.	Si $A_1, A_2, A_3, \dotsc$ es una sucesión de eventos mutuamente excluyente; es decir $A_i \cap A_j = \emptyset$ para todo $i \ne j$. Entonces
$$
P(A_1 \cup A_2  \cup A_3 \cup \cdots)=P(A_1 )+P(A_2 )+P(A_3 )+ \cdots
$$

De estos tres axiomas se desprenden los siguientes teoremas:

::: {#teorema1 .theorem}
La probabilidad de que ocurra el evento imposible es cero. Es decir,
$$
P(\emptyset)=0.
$$
:::

::: {#pruebateorema1 .proof}
$S \cup \emptyset=S$ y $S \cap \emptyset=\emptyset$.
Por el axioma 3,
$P \left(S \cup \emptyset \right)=P \left(S \right)+P \left( \emptyset \right)$; pero por el axioma 2, $P \left(S \right)=1$, y de esta manera $P(\emptyset)=0$.
:::

::: {#teorema2 .theorem}
Para cualquier evento $A \subseteq S$, se cumple que 
$$
0 \le P \left(A \right) \le 1.
$$
:::

::: {#pruebateorema2 .proof}
Por el axioma 1 $P(A) \ge 0$; de aquí que solo es necesario probar que $P(A) \le 1$.
$A \cup A^c = S$ y $A \cap A^c = \emptyset$.
Por los axiomas 2 y 3,
$P \left(A \cup A^c \right)=P \left(A \right)+P \left(A^c \right)=P \left(S \right)=1$;
Dado que $P \left(A^c \right) \ge 0$, entonces
$$
P \left(A \right) \le 1.
$$
:::

::: {#teorema3 .theorem name="Regla del Complemento"}
Para cualquier evento $A$, se tiene
$$
P\left(A^c \right)=1-P \left(A \right).
$$
:::

::: {#pruebateorema3 .proof}
Como $A \cup A^c = S$ y $A \cap A^c= \emptyset$.
Por los axiomas 2 y 3,
$P \left(A \cup A^c \right)=P \left(A \right)+P \left(A^c \right)=P \left(S \right)=1$;
De aquí que
$$
P \left(A^c \right)=1-P \left(A \right).
$$
:::

#### Probabilidad Condicional {#nt2345}

::: {#probabilidadcondicional .definition name="Probabilidad Condicional"}
Suponga que $E$ es un evento en un espacio muestral $S$, tal que $P \left(E \right) > 0$, es decir $E \neq \emptyset$. La probabilidad de que ocurra un evento $A$ una vez que $E$ ha ocurrido o, en otras palabras, la _la probabilidad condicional de $A$ dado $E$, escrita $P \left( A \mid E \right)$, se define así:
$$
\begin{equation}
P \left( A \mid E \right)=\frac{P \left( A \cap E \right)}{P \left( E \right)}.
(\#eq:probabilidad-condicional)
\end{equation}
$$
:::

Como se ilustra en el diagrama de Venn en la figura \@ref(fig:probabilidad-condicional), $P \left( A \mid E \right)$ mide, en cierto sentido, la probabilidad relativa de $A$ con respecto al espacio reducido $E$.

```{r probabilidad-condicional, fig.cap="Probabilidad Condicional", class.source = "watch-out", class.output = "bg-warning"}
knitr::include_graphics(path = "figuras/probabilidad_condicional.png")
```

Ahora, suponga que $S$ es un espacio equiprobable y sea $n\left(A\right)$ el número de elementos en el evento $A$. Entonces,

$$
P \left( A \cap E \right)=\frac{n\left(A \cap E\right)}{n\left(S \right)} \; y \; P \left(E \right)=\frac{n\left( E \right)}{n\left(S \right)}.
$$

Luego, sustituyendo en la ecuación \@ref(eq:probabilidad-condicional) se obtiene que:
$$
\begin{equation}
P \left( A \cap E \right)=\frac{n\left(A \cap E\right)}{n\left(E \right)}.
(\#eq:probabilidad-condicional2)
\end{equation}
$$

::: {.example #ejemp1-probcond name="Probabilidad Condicional"}

Se lanza un par de dados equilibrados. Encuentre la probabilidad de que uno de los dados sea 2 si la suma es 6.

Dado que cada dado puede caer de 6 formas diferentes, entonces el número de formas diferentes en que pueden caer los dos dados, es decir, el número de elementos del espacio muestral $S$, por el principio de la multiplicación \@ref(def:princmult), es $6 \cdot 6=36$. En tal sentido, el espacio muestral $S$ viene determinado por:
$$
S=\begin{Bmatrix}
(1,1);&(1,2);&(1,3);&(1,4);&(1,5);&(1,6);\\
(2,1);&(2,2);&(2,3);&(2,4);&(2,5);&(2,6);\\
(3,1);&(3,2);&(3,3);&(3,4);&(3,5);&(3,6);\\
(4,1);&(4,2);&(4,3);&(4,4);&(4,5);&(4,6);\\
(5,1);&(5,2);&(5,3);&(5,4);&(5,5);&(5,6);\\
(6,1);&(6,2);&(6,3);&(6,4);&(6,5);&(6,6)\\
\end{Bmatrix}.
$$

Sea $A$ el evento en el cual uno de los dados es 2, el cual viene dado por:
$$
A=\begin{Bmatrix}
(2,1);&(2,2);&(2,3);&(2,4);&(2,5);&(2,6);\\
(1,2);&(3,2);&(4,2);&(5,2);&(6,2)\\
\end{Bmatrix}.
$$
Y $E$ el evento en el cual la suma es 6, representado por:
$$
E=\begin{Bmatrix}
(1,5);&(2,4);&(3,3);&(4,2);&(5,1)\\
\end{Bmatrix}.
$$
Entonces el evento en el cual uno de los dos dados es 2 y cuya suma es 6, es decir, $A \cap E$, viene dado por:

$$
E=\begin{Bmatrix}
(2,4);&(4,2)\\
\end{Bmatrix}.
$$
De lo anterior se obtiene que,
$$
P \left( A \cap E \right)=\frac{n\left(A \cap E\right)}{n\left(S \right)}=\frac{2}{36} \; y \; P \left(E \right)=\frac{n\left( E \right)}{n\left(S \right)}=\frac{5}{36}.
$$
Luego, sustituyendo el resultado anterior en la ecuación \@ref(eq:probabilidad-condicional) se obtiene que la probabilidad de que uno de los dados sea 2 si la suma es 6 es:
$$
P \left( A \mid E \right)=\frac{P \left( A \cap E \right)}{P \left( E \right)}=\frac{\frac{2}{36}}{\frac{5}{36}}=\frac{2}{5}=0,4.
$$

El espacio muestral $S$ para este ejemplo se puede listar con el siguiente script. Note que en la tabla \@ref(tab:dados) las filas en color azul representa el evento $E$. 

```{r dados, class.source = "watch-out"}
dados <- urnsamples(
  1:6,
  size = 2, replace = T, ordered = T
) %>%
  as_tibble() %>%
  mutate(
    suma = X1 + X2
  )
kableExtra::kbl(
  dados,
  col.names = c("Dado 1", "Dado 2", "Suma"),
  format.args = list(decimal.mark = ",", big.mark = "."),
  booktabs = TRUE,
  caption = "\\label{tab2:dados}Lanzamiento de dos dados",
  escape = FALSE
) %>%
  kable_styling(
    bootstrap_options = "striped",
    full_width = FALSE,
    fixed_thead = T
  ) %>%
  row_spec(
    which(dados$suma == "6"), color = "blue", strikeout = F
    ) %>%
  kable_classic_2() %>%
  scroll_box(width = "100%", height = "400px")
```
:::

#### Teorema de la Multiplicación {#nt2346}

::: {#teorema-multiplicacion .theorem name="Teorema de la Multiplicación"}

Si $A$ y $B$ son dos eventos cualesquiera de un espacio muestral $S$ y $P\left(A \right) \neq 0$ , entonces
$$
\begin{equation}
P\left(A \cap B \right)=P \left(A \right) \cdot P \left( B \mid A \right).
(\#eq:teorema-multiplicacion1)
\end{equation}
$$

En forma alternativa, si $P\left(B \right) \neq 0$, entonces
$$
\begin{equation}
P\left(A \cap B \right)=P \left(B \right) \cdot P \left( A \mid B \right).
(\#eq:teorema-multiplicacion2)
\end{equation}
$$
:::

::: {#teorema-multiplicacion3 .theorem name="Teorema de la Multiplicación para Tres Eventos"}

Si $A$, $B$ y $C$ son tres eventos cualesquiera de un espacio muestral $S$, tal que y $P\left(A \right) \neq 0$ y $P\left(A \cap B \right) \neq 0$, entonces
$$
\begin{equation}
P\left(A \cap B \cap C \right)=P \left(A \right) \cdot P \left( B \mid A \right) \cdot P \left( C \mid A \cap B \right).
(\#eq:teorema-multiplicacion3)
\end{equation}
$$
:::

::: {#prueba-teorema-multiplicacion3 .proof}

Al escribir $A \cap B \cap C$ como $\left(A \cap B \right) \cap C$ y utilizando la fórmula del teorema \@ref(thm:teorema-multiplicacion) dos veces, se obtiene
$$
\begin{align*}
P \left(A \cap B \cap C \right) & = P \left[ \left(A \cap B \right) \cap C \right] \\  
& = P \left(A \cap B \right) \cdot P \left(C \mid A \cap B \right) \\ 
& = P \left(A \right) \cdot P \left( B \mid A \right) \cdot P \left( C \mid A \cap B \right).
\end{align*}
$$
:::

::: {#teorema-multiplicacionk .theorem name="Teorema de la Multiplicación para $k$ Eventos"}

Si $A{}_1, A{}_2, \dotsc, A{}_k$ son $k$ eventos cualesquiera de un espacio muestral $S$, tal que y $P\left(A{}_1 \cap A{}_2 \cap \cdots \cap A{}_{k-1} \right) \neq 0$ , entonces
$$
\begin{equation}
P\left(A{}_1 \cap A{}_2 \cap \cdots \cap A{}_{k-1} \right)=P \left(A{}_1 \right) \cdot P \left( A{}_2 \mid A{}_1 \right) \cdot P \left( A{}_3 \mid A{}_1 \cap A{}_2 \right) \cdots P \left( A{}_k \mid A{}_1 \cap A{}_2 \cap \cdots \cap A{}_{k-1} \right).
(\#eq:teorema-multiplicacionk)
\end{equation}
$$
:::

::: {.example #ejemp1-teorema-multiplicacion name="Teorema de la Multiplicación"}

Determine la probabilidad de tomar de manera aleatoria o al azar en sucesión dos ases de un un mazo de cartas españolas a) si las cartas se toman sin reemplazo y b) si las cartas se toman con reemplazo.

a)  Si $A$ es el evento de que la primera carta es un as y $B$ el evento de que la segunda carta es otro as. Entonces, la probabilidad de que las dos cartas sean ases, si el muestreo se realiza sin reemplazo, viene dado por
$$
P\left(A \cap B \right)=P \left(A \right) \cdot P \left( B \mid A \right)=\frac{4}{40} \cdot \frac{3}{39}=\frac{1}{130}\approx 0,0077.
$$

b)  Si el muestreo se realiza con reemplazo la probabilidad de seleccionar dos ases es,
$$
P\left(A \cap B \right)=P \left(A \right) \cdot P \left( B \mid A \right)=\frac{4}{40} \cdot \frac{4}{40}=\frac{1}{100}=0,01.
$$
:::

::: {.example #ejemp2-teorema-multiplicacion name="Teorema de la Multiplicación"}

Una caja de bombillos contiene 100 unidades, de los cuales 5 están defectuosos. Si se seleccionan al azar tres bombillos y se sacan de la caja en sucesión sin reemplazo, ¿cuál es la probabilidad de que los tres bombillos sean defectuosos.

Sea $A$ el evento de que el primer bombillo es defectuosos, $B$ el evento de que el segundo bobillo es defectuosos y $C$ el evento de que el tercer bombillo es defectuosos. Entonces, la probabilidad de que los tres bombillos sean defectuosos, según la ecuación \@ref(eq:teorema-multiplicacion3) dada en el teorema \@ref(thm:teorema-multiplicacion3) es
$$
\begin{align*}
P\left(A \cap B \cap C \right) & = P \left(A \right) \cdot P \left( B \mid A \right) \cdot P \left( C \mid A \cap B \right) \\
&=\frac{5}{100} \cdot \frac{4}{99}\cdot \frac{3}{98}\\
&=\frac{1}{16.170} \approx 0,00006.
\end{align*}
$$

:::


